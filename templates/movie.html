{% extends "base.html" %}

{% block content %}
<p>
    
    MOVIE_ID: {{ overview_data.id }}<br>
    ORIGINAL_TITLE: {{ overview_data.original_title }}<br>
    TITLE: {{ overview_data.title }} <br>
    RELEASE-DATE: {{ overview_data.release_date }}<br>
    BUDGET: {{ business_data.budget }}<br>
    REVENUE: {{ business_data.revenue }}<br>
    
</p>

<p> 
    OVERVIEW: {{ overview_data.overview }}

</p>


{% if wikipedia_summary %}


<p>
    WIKIPEDIA SUMMARY: {{ wikipedia_summary.summary}}
</p>

{% else %} 

<h2>Sorry, no wikipedia summary</h2>

{% endif %}




<p>
    {% for image in image_list %}
    <div>
        <img src= "{{ image }}"> <br>
    </div>
    {% endfor%}
</p>

<p> GENRE:
    {% for genre in genre_list %}

    {{ genre }}
    {% endfor %}
</p>

<p>PRODUCTION COMPANIES:
    <br> 
    {%for company in production_companies_list %}
    {{ company }}<br>
    {% endfor %}
</p>

<button class="btn btn-success left" id="home-button" style="position: absolute; left: 0;"><a href="/">Home</a></button>

<button class="btn btn-success" id="add-bookmark-button" style="display: block; margin: 0 auto;" onclick="displayBookmarkAddedMessage('{{ overview_data.title }}')">Add Bookmark</button>

<script>
    function displayBookmarkAddedMessage(title) {
        // Call the /add_bookmark/ route to add the bookmark to the database
        fetch(`/add_bookmark/?title=${title}`).then(response => {
            // Hide the "Add Bookmark" button and display the "bookmark added" message
            document.querySelector('#add-bookmark-button').style.display = 'none';
            document.querySelector('#bookmark-added-message').style.display = 'block';
        });
    }
</script>

<div id="bookmark-added-message" style="display: none;">
    Bookmark added!
</div>

{% endblock %}