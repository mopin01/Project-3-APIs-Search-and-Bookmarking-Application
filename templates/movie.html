{% extends "base.html" %}

{% block content %}
<p>
    
    MOVIE_ID: {{ data.id }}<br>
    ORIGINAL_TITLE: {{ data.original_title }}<br>
    TITLE: {{ data.title }} <br>
    RELEASE-DATE: {{ data.release_date }}<br>
    BUDGET: {{ data.budget }}<br>
    REVENUE: {{ data.revenue }}<br>
    
    <p> 
        OVERVIEW: {{ data.overview }}
</p>

<p> 
    SHORT WIKIPEDIA SUMMARY: {{ data.plotShort }}

</p>

<p>
    {% for image in data.image_list %}
    <div>
        <img src= "{{ image }}"> <br>
    </div>
    {% endfor%}
</p>

<p> GENRE:
    {% for genre in data.genre_list %}

    {{ genre }}
    {% endfor %}
</p>

<p>PRODUCTION COMPANIES:
    <br> 
    {%for company in data.production_companies_list %}
    {{ company }}<br>
    {% endfor %}
</p>

<button class="btn btn-success left" id="home-button" style="position: absolute; left: 0;"><a href="/">Home</a></button>

<button class="btn btn-success" id="add-bookmark-button" style="display: block; margin: 0 auto;" onclick="displayBookmarkAddedMessage('{{ data.title }}')">Add Bookmark</button>

<script>
    function displayBookmarkAddedMessage(title) {
        // Call the /add_bookmark/ route to add the bookmark to the database
        fetch(`/add_bookmark/?title=${title}`).then(response => {
            // Hide the "Add Bookmark" button and display the "bookmark added" message
            document.querySelector('#add-bookmark-button').style.display = 'none';
            document.querySelector('#bookmark-added-message').style.display = 'block';
        });
    }
</script>

<div id="bookmark-added-message" style="display: none;">
    Bookmark added!
</div>

{% endblock %}